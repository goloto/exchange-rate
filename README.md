# ExchangeRate

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 10.1.7.

## Тестовое задание

Необходимо создать страницу, на которой в режиме реального времени(периодичность опроса источника 10 сек), будет выводиться текущий курс Евро по отношению к российскому рублю.
 
1. Источники для получения курса:
https://www.cbr-xml-daily.ru/daily_utf8.xml
и
https://www.cbr-xml-daily.ru/daily_json.js
 
предполагается, что список может быть расширен.
 
2. Должен быть задан порядок опроса источников.
3. В случае, если источник недоступен, необходимо переключиться на прием данных с другого источника.
4. Добавление нового источника должно быть простым, без необходимости переписывать большую часть кода.
5. Необходимо продемонстрировать понимание основных принципов ООП.
 
Приветствуется использование Angular.

## Решение

* За вывод курса евро к рублю отвечает компонент Exchange
* За получение данных о курсе отвечает сервис ExchangePolling
* Каждый источник данных представляет из себя класс, реализующий интерфейс IExchangePoll
* Получаемые данные хранятся в классе ExchangeData
* Сам опрос осуществляется с помощью подписки async pipe на Observable<ExchangeData>, возвращаемого сервисом ExchangePolling
* Observable сначала ожидает тика таймера, затем начинает проход по всем источникам, беря первый, который возвращает OK
* Порядок опроса источников определяется их порядком в переменной source сервиса ExchangePolling

## Что ещё можно улучшить

* Предусмотреть сценарий недоступности всех источников сразу и отображения курса валюты в этот момент
* Объединить запрос получения статуса источника с запросом курса валюты
* Уделить больше внимания обработке ошибок
